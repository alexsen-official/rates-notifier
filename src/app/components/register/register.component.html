<div class="container">
  <mat-card class="form-card">
    <mat-card-title>Register</mat-card-title>

    <mat-card-subtitle>
      Already have an account?
      <a routerLink="/login">Login!</a>
    </mat-card-subtitle>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput type="text" [formControl]="name"/>

        <mat-icon matPrefix>account_circle</mat-icon>
        <mat-error>{{ getError(name, 'Name') }}</mat-error>

        <mat-hint align="end">{{ name.value?.length || 0 }}/{{ maxNameLength }}</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Phone</mat-label>
        <input matInput type="tel" [formControl]="tel"/>

        <mat-icon matPrefix>phone</mat-icon>
        <mat-error>{{ getError(tel, 'Phone number') }}</mat-error>
      </mat-form-field>

      <app-email [control]="email"></app-email>
      <app-password [control]="password"></app-password>
      <app-form-actions [form]="form"></app-form-actions>
    </form>

    <mat-card-footer *ngIf="form.disabled">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </mat-card-footer>
  </mat-card>
</div>
